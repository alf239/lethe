# Steel Browser for Lethe
# Run: docker compose -f docker-compose.steel.yml up -d
# View browser at: http://localhost:3000/ui

services:
  steel:
    image: ghcr.io/steel-dev/steel-browser:latest
    container_name: lethe-steel
    ports:
      - "3000:3000"   # Steel API + UI (access UI at /ui)
      - "9223:9223"   # Chrome DevTools debugger
    environment:
      # Optional: Add proxy configuration
      # PROXY_URL: "http://user:pass@proxy:port"
      
      # Optional: Session timeout (default 30 min)
      # SESSION_TIMEOUT: 1800000
    volumes:
      # Persist browser data (cookies, localStorage, profiles) between restarts
      - ./data/steel-cache:/app/.cache
    restart: unless-stopped
    # Resource limits (adjust as needed)
    deploy:
      resources:
        limits:
          memory: 2G
